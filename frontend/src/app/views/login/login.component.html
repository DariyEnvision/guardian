<div class="demo-block">
    <div (click)="loginUsersShow($event)" class="demo-users">Demo users</div>
    <div class="login-menu disabled">
        <div class="debug-user">
            <button (click)="authState.doLogin('StandardRegistry','test')" mat-raised-button>Standard Registry</button>
            <button (click)="authState.doLogin('Installer','test')" mat-raised-button>Installer</button>
            <button (click)="authState.doLogin('Installer2','test')" mat-raised-button>Installer 2</button>
            <button (click)="authState.doLogin('Auditor','test')" mat-raised-button>Auditor</button>
            <button (click)="authState.doLogin('Registrant','test')" mat-raised-button>Registrant</button>
            <button (click)="authState.doLogin('VVB','test')" mat-raised-button>VVB</button>
            <button (click)="authState.doLogin('ProjectProponent','test')" mat-raised-button>Project Proponent</button>
            <button (click)="authState.doLogin('Verra','test')" mat-raised-button>Verra</button>
        </div>
        <div class="debug-user">
            <div (click)="authState.doLogin(user.username, 'test')"
                 *ngFor="let user of testUsers$ | async as users; index as i; first as isFirst"
                 [ngClass]="{ 'current-user-first' : isFirst, 'current-user-last': i === users.length - 1 }"
                 class="current-user">
                <div class="current-user-name"><span>{{ user.username }}</span> <span
                        class="current-user-role">({{ user.role }})</span></div>
                <div *ngIf="user.policyRoles && user.policyRoles.length" [matTooltip]="getPoliciesRolesTooltip(user.policyRoles)"
                     class="current-user-policy-roles"
                     matTooltipClass="policy-roles-tooltip">
                    <b>User participates in {{ user.policyRoles.length }} policies</b>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="login-container">
    <div style="width: 50vw; height: 100%; background: var(--linear-gradient);">
        <img [src]="backgroundImageData" class="background-image">
    </div>
    <div [class.w-100]="brandingLoading" class="login-form">
        <div *ngIf="!brandingLoading && !loading" class="form-container">
            <h1>Welcome<br>to the {{ companyName }}</h1>
            <form [formGroup]="loginForm">
                <div class="form-input-container">
                    <label class="p-field-label" for="login">Username</label>
                    <input class="p-field-input" formControlName="login" id="login" pInputText placeholder="Enter a Username"
                           type="text"/>
                </div>
                <div class="form-input-container">
                    <label class="p-field-label" for="password">Password</label>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <input #password [feedback]="false" [showPassword]="false" class="p-field-input" formControlName="password"
                               id="password"
                               pPassword placeholder="Password"/>
                        <button (click)="password.type === 'password' ? password.type = 'text' : password.type = 'password'"
                                [icon]="'pi pi-eye'" class="p-button-rounded p-button-secondary p-button-text" pButton
                                style="position: absolute; right: 20%;"></button>
                    </div>
                </div>
                <div class="forgot-password-button">
                    <span (click)="forgotPasswordInit()" class="primary-text-button">Forgot password</span>
                    <div *ngIf="wrongNameOrPassword" class="wrong-notification">
                        Wrong Username or Password
                    </div>
                </div>
                <div style="display: flex; column-gap: 10px; align-items: center;">
                    <button (click)="onLogin()"
                            [disabled]="!this.loginForm.controls['login'].value || !this.loginForm.controls['password'].value"
                            class="button full-width" label="Log In" pButton></button>
                </div>
                <div class="sign-up">
                    <span>Donâ€™t have an Account?</span>
                    <span (click)="signUpInit()" class="primary-text-button">Sign Up</span>
                </div>
            </form>
        </div>
        <div *ngIf="loading" class="preloader preloader-image-l-size"></div>
    </div>
</div>
