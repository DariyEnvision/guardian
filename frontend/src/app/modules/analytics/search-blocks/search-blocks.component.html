<div class="search-result">
    <div *ngIf="loading" class="loading">
        <mat-spinner></mat-spinner>
    </div>
    <div class="search-result-header">
        <div class="search-result-header__icon">
            <mat-icon>{{icon}}</mat-icon>
        </div>
        <div class="search-result-header__path">
            <span>{{title}}</span>
        </div>
        <div class="search-result-header__buttons">
            <div class="search-result-header__button cancel" (click)="onCancel()">
                Cancel
            </div>
            <div *ngIf="save" class="search-result-header__button save" (click)="onSave()">
                Save
            </div>
        </div>
    </div>
    <div class="search-result-body">

        <div *ngFor="let group of groups" class="search-result-group">
            <div class="search-result-group__details">
                {{group.name}}
            </div>
            <div class="search-result-chains">
                <div *ngFor="let groupItem of group.items" class="search-result-chain">
                    <div  class="search-result-chain__details">
                        {{groupItem.count}}
                    </div>
                    <div 
                        *ngFor="let block of groupItem.tree" 
                        class="search-result-pair"
                        [style.padding-left.px]="block.offset"
                    >
                        <div 
                            class="block-item" 
                            [style]="blockStyle(block)" 
                            [attr.selected]="block.selected"
                            theme-all
                        >
                            <div class="block-item-icon">
                                <mat-icon theme-text>{{block.icon}}</mat-icon>
                            </div>
                            <div class="block-item-name" theme-text>
                                {{block.name}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>