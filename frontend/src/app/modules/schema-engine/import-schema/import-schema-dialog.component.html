<div class="dialog-body">
    <p-tabView>
        <p-tabPanel *ngFor="let tab of items; let i = index">
            <ng-template pTemplate="header">
                <div class="tabview-label" (click)="handleChangeTab(i)">
                    {{ tab.label }}
                </div>
            </ng-template>
        </p-tabPanel>
    </p-tabView>

    <ng-container *ngIf="isImportTypeSelected" [ngSwitch]="this.importType">
        <ng-template [ngSwitchCase]="0">
            <app-file-drag-n-drop
                    fileExtension="schema"
                    (onFileLoaded)="importFromFile($event)"
                    dropZoneLabel="Import Schema .schema file"
            ></app-file-drag-n-drop>
        </ng-template>
        <ng-template [ngSwitchCase]="1">
            <form [formGroup]="dataForm">
                <label class="form-label" htmlFor="timestamp"
                >Message timestamp</label
                >
                <input
                        type="text"
                        id="timestamp"
                        placeholder="Timestamp"
                        pInputText
                        formControlName="timestamp"
                />
            </form>
        </ng-template>
    </ng-container>

    <div *ngIf="loading && !taskId" class="loading">
        <div class="preloader-image preloader-image-l-size"></div>
    </div>
    <async-progress
            *ngIf="loading && taskId"
            [taskId]="taskId"
            (error)="onAsyncError($event)"
            (completed)="onAsyncCompleted()"
    ></async-progress>
</div>

<div class="dialog-footer">
    <div class="action-buttons">
        <div class="cancel-button">
            <button pButton
                    class="button secondary"
                    label="Close"
                    styleClass="p-button-outlined"
                    (click)="onNoClick()"
            ></button>
        </div>
        <div>
            <button pButton class="button"
                    label="Import"
                    (click)="this.importType === 1 ? importFromMessage() : ''"
            ></button>
        </div>
    </div>
</div>
